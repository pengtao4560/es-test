# 7.27
##i++， ++i区别

redis 冷热电数据怎么识别
redis应用场景


mysql隔离级别，怎么保证的隔离级别

i++是不是原子操作。

**final用法**

最左匹配原则

8种基本数据类型，  int几个字节

int长度。


购物下单15分钟未支付怎么处理。 思路


mysql 10个 没有相互关联的sql， 怎么尽快返回。。

分布式锁的相关问题吧。



# 7.28

最左匹配原则
### 最左前缀原则规定了联合索引在何种查询中才能生效，规则如下：
如果想使用联合索引**，联合索引的最左边的列必须作为过滤条件，否则联合索引不会生效**。
这也就是说，联合索引其实拥有单列索引的作用。


索引失效
几个节点
分布式锁的相关问题

springcloud怎么保证事务

redis
es

# 分布式锁

分布式锁。的目的其实很简单，就是为了保证多台服务器在执行某一段代码时保证只有一台服务器执行。

分布式锁需要保证：
 - 在任何时刻，保证只有一个客户端持有锁。
 - 不能出现死锁。如果在一个客户端持有锁的期间，这个客户端崩溃了，也要保证后续的其他客户端可以上锁。
 - 保证上锁和解锁都是同一个客户端。

一般来说，实现分布式锁的方式有以下几种：

- 使用MySQL，基于唯一索引。
- 使用ZooKeeper，基于临时有序节点。
- 使用Redis，基于setnx命令和delete 命令

key的值可以根据业务设置，比如是用户中心使用的，可以命令为USER_REDIS_LOCK，value 需要
标识加锁的客户端，保证加锁和解锁都是同一个客户端。
保证唯一性，

但是聪明的同学肯定会问，有效时间设置多长，假如我的业务操作比有效时间长，我的业务代码还没执行完就自动给我解锁了，
不就完蛋了吗。这个问题就有点棘手了，在网上也有很多讨论，
第一种解决方法就是靠程序员自己去把握，预估一下业务代码需要执行的时间，然后设置有效期时间比执行时间长一些，
保证不会因为自动解锁影响到客户端业务代码的执行。但是这并不是万全之策，比如网络抖动这种情况是无法预测的，
也有可能导致业务代码执行的时间变长，所以并不安全。有一种方法比较靠谱一点，就是给锁续期。

在Redisson框架实现分布式锁的思路，就使用 `watchDog` 机制实现锁的续期。当加锁成功后，同时开启守护线程，默认有效期是30秒，
每隔10秒就会给锁续期到30秒，只要持有锁的客户端没有宕机，就能保证一直持有锁，直到业务代码执行完毕由客户端自己解锁，
如果宕机了自然就在有效期失效后自动解锁。

阿里开发者
[](https://www.zhihu.com/question/300767410/answer/1749442787)

# 7.29
### @bean注解

Spring的@Bean注解用于告诉方法，产生一个Bean对象，然后这个Bean对象交给Spring管理。
(和xml配置中的bean标签的作用是一样的)

使用@Bean可以把第三方库中的类实例交给spring管理，而@Component , @Repository , @Controller , @Service 局限于自己编写的类中

分页插件

依赖注入

工作中用到的设计模式

井号大括号 和 ${}

mybatis 二级缓存和一级缓存的区别

控制层 参数 怎么判空。 

分布式锁相关问题





